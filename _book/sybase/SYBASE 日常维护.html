
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>SYBASE 日常维护 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="Sybase ASE培训.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Action
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../action/权限管理的副本.html">
            
                <a href="../action/权限管理的副本.html">
            
                    
                    权限管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../action/电商实战.html">
            
                <a href="../action/电商实战.html">
            
                    
                    电商实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../action/电商实战2.html">
            
                <a href="../action/电商实战2.html">
            
                    
                    电商实战2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../action/电商实战的副本.html">
            
                <a href="../action/电商实战的副本.html">
            
                    
                    电商实战的副本
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Activiti
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../activiti/Activiti实战.html">
            
                <a href="../activiti/Activiti实战.html">
            
                    
                    Activiti实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../activiti/Activiti实战的副本.html">
            
                <a href="../activiti/Activiti实战的副本.html">
            
                    
                    Activiti实战的副本
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Books
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../books/Java基础学习过程[转].html">
            
                <a href="../books/Java基础学习过程[转].html">
            
                    
                    Java基础学习过程[转]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../books/java进阶（空格分隔）： 学习.html">
            
                <a href="../books/java进阶（空格分隔）： 学习.html">
            
                    
                    java进阶（空格分隔）： 学习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../books/读书笔记.html">
            
                <a href="../books/读书笔记.html">
            
                    
                    读书笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Database
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../database/mybatis-plus.html">
            
                <a href="../database/mybatis-plus.html">
            
                    
                    Mybatis Plus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../database/mysql.html">
            
                <a href="../database/mysql.html">
            
                    
                    Mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../database/PageHelper的使用和原理.html">
            
                <a href="../database/PageHelper的使用和原理.html">
            
                    
                    PageHelper的使用和原理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Designpattern
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../designpattern/单件模式.html">
            
                <a href="../designpattern/单件模式.html">
            
                    
                    单件模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../designpattern/命令模式.html">
            
                <a href="../designpattern/命令模式.html">
            
                    
                    命令模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../designpattern/工厂模式.html">
            
                <a href="../designpattern/工厂模式.html">
            
                    
                    工厂模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../designpattern/策略模式.html">
            
                <a href="../designpattern/策略模式.html">
            
                    
                    策略模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../designpattern/装饰者模式.html">
            
                <a href="../designpattern/装饰者模式.html">
            
                    
                    装饰者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../designpattern/观察者模式.html">
            
                <a href="../designpattern/观察者模式.html">
            
                    
                    观察者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../designpattern/适配器模式与外观模式.html">
            
                <a href="../designpattern/适配器模式与外观模式.html">
            
                    
                    适配器模式与外观模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Devops
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../devops/DevOps简介.md">
            
                <span>
            
                    
                    DevOps简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../devops/持续集成是什么.html">
            
                <a href="../devops/持续集成是什么.html">
            
                    
                    持续集成是什么
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Docker
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../docker/docker and k8s.html">
            
                <a href="../docker/docker and k8s.html">
            
                    
                    Docker And k8s 实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../docker/Docker基础.html">
            
                <a href="../docker/Docker基础.html">
            
                    
                    Docker基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../docker/images.html">
            
                <a href="../docker/images.html">
            
                    
                    Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../docker/容器技术与Docker简介.html">
            
                <a href="../docker/容器技术与Docker简介.html">
            
                    
                    容器技术与Docker简介
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Dubbo
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../dubbo/Untitled.html">
            
                <a href="../dubbo/Untitled.html">
            
                    
                    Untitled
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Hadoop
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../hadoop/hadoop笔记(一）.html">
            
                <a href="../hadoop/hadoop笔记(一）.html">
            
                    
                    hadoop笔记(一）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../java/Java Concurrency in Practice.html">
            
                <a href="../java/Java Concurrency in Practice.html">
            
                    
                    Java Concurrency In Practice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../java/Java日志记录总结.html">
            
                <a href="../java/Java日志记录总结.html">
            
                    
                    Java日志记录总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../java/Java笔记-Java IO系统.html">
            
                <a href="../java/Java笔记-Java IO系统.html">
            
                    
                    Java笔记-Java I/O系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../java/Java笔记-初始化与清理.html">
            
                <a href="../java/Java笔记-初始化与清理.html">
            
                    
                    Java笔记-初始化与清理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../java/Java笔记-多态.html">
            
                <a href="../java/Java笔记-多态.html">
            
                    
                    Java笔记-多态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="../java/Java笔记-并发.html">
            
                <a href="../java/Java笔记-并发.html">
            
                    
                    Java笔记-并发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="../java/Java笔记-接口和内部类.html">
            
                <a href="../java/Java笔记-接口和内部类.html">
            
                    
                    Java笔记-接口和内部类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="../java/Java笔记-类型信息.html">
            
                <a href="../java/Java笔记-类型信息.html">
            
                    
                    Java笔记-类型信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.9" data-path="../java/Java笔记-访问控制权限和复用类.html">
            
                <a href="../java/Java笔记-访问控制权限和复用类.html">
            
                    
                    Java笔记-访问控制权限和复用类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.10" data-path="../java/剑指offer.html">
            
                <a href="../java/剑指offer.html">
            
                    
                    剑指offer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../linux/.~VMBox桥接网络设置.html">
            
                <a href="../linux/.~VMBox桥接网络设置.html">
            
                    
                    .~VMBox桥接网络设置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../linux/Linux常用软件安装.html">
            
                <a href="../linux/Linux常用软件安装.html">
            
                    
                    Linux常用软件安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../linux/LINUX磁盘与文件系统管理.html">
            
                <a href="../linux/LINUX磁盘与文件系统管理.html">
            
                    
                    LINUX磁盘与文件系统管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../linux/linux防火墙关闭.html">
            
                <a href="../linux/linux防火墙关闭.html">
            
                    
                    linux防火墙关闭
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../linux/RedHat中安装EPEL.html">
            
                <a href="../linux/RedHat中安装EPEL.html">
            
                    
                    RedHat中安装EPEL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../linux/RedHat配置网络yum源.html">
            
                <a href="../linux/RedHat配置网络yum源.html">
            
                    
                    RedHat配置网络yum源
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../linux/VMware中RedHat设置静态IP,解决克隆后网卡启动失败问题.html">
            
                <a href="../linux/VMware中RedHat设置静态IP,解决克隆后网卡启动失败问题.html">
            
                    
                    VMware中RedHat设置静态IP,解决克隆后网卡启动失败问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../linux/vsftp配置.html">
            
                <a href="../linux/vsftp配置.html">
            
                    
                    vsftp配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="../linux/网络配置.html">
            
                <a href="../linux/网络配置.html">
            
                    
                    网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.10" data-path="../linux/进程管理.html">
            
                <a href="../linux/进程管理.html">
            
                    
                    进程管理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    Maven
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../maven/Maven实战笔记.html">
            
                <a href="../maven/Maven实战笔记.html">
            
                    
                    Maven实战笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    Mongodb
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../mongodb/Centos7.x下mongodb安装.html">
            
                <a href="../mongodb/Centos7.x下mongodb安装.html">
            
                    
                    Centos7.x下mongodb安装
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    Moosefs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../moosefs/moosefs总结.html">
            
                <a href="../moosefs/moosefs总结.html">
            
                    
                    moosefs总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    Mq
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../mq/RabbitMQ.html">
            
                <a href="../mq/RabbitMQ.html">
            
                    
                    Rabbit MQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" >
            
                <span>
            
                    
                    Netty
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="../netty/Netty源码解析.html">
            
                <a href="../netty/Netty源码解析.html">
            
                    
                    Netty源码解析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" >
            
                <span>
            
                    
                    Nginx
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../nginx/Nginx实战.html">
            
                <a href="../nginx/Nginx实战.html">
            
                    
                    Nginx实战
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" >
            
                <span>
            
                    
                    Nodejs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="../nodejs/前端面试题.html">
            
                <a href="../nodejs/前端面试题.html">
            
                    
                    前端面试题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="../nodejs/常用正则表达式.html">
            
                <a href="../nodejs/常用正则表达式.html">
            
                    
                    Java笔记-初始化与清理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.3" data-path="../nodejs/电商前端.html">
            
                <a href="../nodejs/电商前端.html">
            
                    
                    电商前端
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" >
            
                <span>
            
                    
                    Python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="../python/Python基础学习.html">
            
                <a href="../python/Python基础学习.html">
            
                    
                    Python基础学习
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" >
            
                <span>
            
                    
                    Redis
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.21.1" data-path="../redis/redis action.html">
            
                <a href="../redis/redis action.html">
            
                    
                    Redis Action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.2" data-path="../redis/Redis Cluster 安装.html">
            
                <a href="../redis/Redis Cluster 安装.html">
            
                    
                    Redis Cluster 安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.3" data-path="../redis/redis主从切换的集群管理.html">
            
                <a href="../redis/redis主从切换的集群管理.html">
            
                    
                    redis主从切换的集群管理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.22" >
            
                <span>
            
                    
                    Spring
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.22.1" data-path="../spring/eclipse搭建Spring MVC 开发环境.html">
            
                <a href="../spring/eclipse搭建Spring MVC 开发环境.html">
            
                    
                    eclipse搭建Spring MVC 开发环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.2" data-path="../spring/Spring boot实践.html">
            
                <a href="../spring/Spring boot实践.html">
            
                    
                    Spring boot实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.3" data-path="../spring/Spring Cloud.html">
            
                <a href="../spring/Spring Cloud.html">
            
                    
                    Spring Cloud
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.4" data-path="../spring/Spring Security 实战.html">
            
                <a href="../spring/Spring Security 实战.html">
            
                    
                    Spring Security 实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.5" data-path="../spring/Spring 揭秘.html">
            
                <a href="../spring/Spring 揭秘.html">
            
                    
                    Spring 揭秘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.6" data-path="../spring/Spring集成日志.html">
            
                <a href="../spring/Spring集成日志.html">
            
                    
                    Java笔记-集成日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.7" data-path="../spring/理解Spring技术栈.html">
            
                <a href="../spring/理解Spring技术栈.html">
            
                    
                    理解Spring技术栈
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.23" >
            
                <span>
            
                    
                    Sybase
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.23.1" data-path="Sybase ASE培训.html">
            
                <a href="Sybase ASE培训.html">
            
                    
                    Sybase ASE培训
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.23.2" data-path="SYBASE 日常维护.html">
            
                <a href="SYBASE 日常维护.html">
            
                    
                    SYBASE 日常维护
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.24" >
            
                <span>
            
                    
                    Test
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.24.1" data-path="../test/性能测试.html">
            
                <a href="../test/性能测试.html">
            
                    
                    性能测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.25" >
            
                <span>
            
                    
                    Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.25.1" data-path="../tools/Github进行fork后如何与原仓库同步.html">
            
                <a href="../tools/Github进行fork后如何与原仓库同步.html">
            
                    
                    Github进行fork后如何与原仓库同步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.2" data-path="../tools/GIT常用操作.html">
            
                <a href="../tools/GIT常用操作.html">
            
                    
                    GIT常用操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.3" data-path="../tools/Intellij IDEA 常用快捷键.html">
            
                <a href="../tools/Intellij IDEA 常用快捷键.html">
            
                    
                    Intellij IDEA 常用快捷键
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.4" data-path="../tools/NAVICAT 12.0.26 mac 激活.html">
            
                <a href="../tools/NAVICAT 12.0.26 mac 激活.html">
            
                    
                    NAVICAT 12.0.26 mac 激活
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.5" data-path="../tools/Redis故障排查.html">
            
                <a href="../tools/Redis故障排查.html">
            
                    
                    Redis故障排查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.6" data-path="../tools/vpn搭建.html">
            
                <a href="../tools/vpn搭建.html">
            
                    
                    vpn搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.7" data-path="../tools/转售物联网交流.html">
            
                <a href="../tools/转售物联网交流.html">
            
                    
                    转售物联网交流
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.26" >
            
                <span>
            
                    
                    Work
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.26.1" data-path="../work/会议记录20190515.html">
            
                <a href="../work/会议记录20190515.html">
            
                    
                    会议记录20190515
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.2" data-path="../work/可研会议记录.html">
            
                <a href="../work/可研会议记录.html">
            
                    
                    可研会议记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.3" data-path="../work/审计相关问题.html">
            
                <a href="../work/审计相关问题.html">
            
                    
                    审计相关问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.4" data-path="../work/工程项目培训与交流.html">
            
                <a href="../work/工程项目培训与交流.html">
            
                    
                    工程项目培训与交流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.5" data-path="../work/转售4G.html">
            
                <a href="../work/转售4G.html">
            
                    
                    转售4G
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >SYBASE 日常维护</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>&#xFEFF;# SYBASE &#x65E5;&#x5E38;&#x7EF4;&#x62A4;</p>
<p>&#x6807;&#x7B7E;&#xFF08;&#x7A7A;&#x683C;&#x5206;&#x9694;&#xFF09;&#xFF1A; Sybase</p>
<p>[TOC]</p>
<hr>
<h2 id="sybase-isql">Sybase isql</h2>
<p>&#x767B;&#x9646;&#xFF1A;</p>
<blockquote>
<p>isql -Usa(&#x7528;&#x6237;&#x540D;) -P(&#x5BC6;&#x7801;) -SABC(&#x670D;&#x52A1;&#x540D;)</p>
</blockquote>
<p>&#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#xFF1A;</p>
<pre><code>isql -Usa -P -SABC -i /opt/sybase/test.sql -o /opt/sybase/test.log
isql &#x2013;Usa &#x2013;Ppasswd &#x2013;Sservername &#x2013;i bcpout.sh &#x2013;o bcpout.txt
</code></pre><p>isql&#x53C2;&#x6570;&#x8BE6;&#x89E3;</p>
<pre><code>usage: isql [-b] [-e] [-F] [-p] [-n] [-v] [-X] [-Y] [-Q]
[-a display_charset] [-A packet_size] [-c cmdend] [-D database]
[-E editor [-h header [-H hostname [-i inputfile]
[-I interfaces_file] [-J client_charset] [-K keytab_file]
[-l login_timeout] [-m errorlevel] [-M labelname labelvalue]
[-o outputfile] [-P password] [-R remote_server_principal]
[-s col_separator] [-S server_name] [-t timeout] [-U username]
[-V [security_options]] [-w column_width] [-z localename]
[-Z security_mechanism]
</code></pre><h2 id="&#x5E38;&#x7528;&#x547D;&#x4EE4;">&#x5E38;&#x7528;&#x547D;&#x4EE4;</h2>
<h3 id="&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;">&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;</h3>
<p>&#x5173;&#x95ED;sybase&#x4E3B;&#x670D;&#x52A1; shutdown with nowait go
&#x5173;&#x95ED;sybase&#x67D0;&#x4E00;&#x670D;&#x52A1; shutdown SYB_BACKUP(&#x670D;&#x52A1;&#x540D;) go
&#x542F;&#x52A8;Sybase&#xFF1A;startserver -f RUN_crmserver </p>
<pre><code>&#x67E5;&#x770B;&#x670D;&#x52A1;&#x540D; sp_helpserver go
</code></pre><p>&#x67E5;&#x770B;sybase&#x7248;&#x672C; select @@version go</p>
<h3 id="&#x8BBE;&#x5907;&#x7BA1;&#x7406;">&#x8BBE;&#x5907;&#x7BA1;&#x7406;</h3>
<p>&#x67E5;&#x770B;sybase&#x7684;&#x6570;&#x636E;&#x8BBE;&#x5907;&#x4FE1;&#x606F; sp_helpdevice/select *from master..sysdevices go</p>
<h4 id="1&#x521B;&#x5EFA;">(1)&#x521B;&#x5EFA;</h4>
<pre><code>use master go
disk init
name = &apos;test&apos;,physname=&apos;/opt/sybase/data/test.dat&apos;,vdevno=2,size=&apos;1024m&apos;,vstart=0,cntrltype=0,dsync=true
go
</code></pre><h4 id="2&#x5220;&#x9664;">(2)&#x5220;&#x9664;</h4>
<pre><code>use master go
exec sp_dropdevice &apos;test&apos;
go
</code></pre><h4 id="3&#x4FEE;&#x6539;&#x6700;&#x5927;&#x7684;&#x865A;&#x62DF;&#x8BBE;&#x5907;&#x53F7;">(3)&#x4FEE;&#x6539;&#x6700;&#x5927;&#x7684;&#x865A;&#x62DF;&#x8BBE;&#x5907;&#x53F7;</h4>
<pre><code class="lang-`">sp_configure &apos;number of devices&apos;,25 go
</code></pre>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;">&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;</h3>
<h4 id="1&#x521B;&#x5EFA;">(1)&#x521B;&#x5EFA;</h4>
<pre><code>use master go
create database test on test=&apos;1024M&apos; go
use test go
exec sp_changedbowner &apos;sa&apos; go
</code></pre><h4 id="2&#x67E5;&#x770B;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;">(2)&#x67E5;&#x770B;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;</h4>
<pre><code>select db_name() 
go
</code></pre><h4 id="3&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;-sphelpdb-syk-go">(3)&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F; sp_helpdb syk go</h4>
<h4 id="4&#x5220;&#x9664;-drop-database-syk-go">(4)&#x5220;&#x9664; drop database syk go</h4>
<p>&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;&#x51FA;&#x73B0;&#xFF1A;</p>
<pre><code>1&gt; drop database vggdb   
2&gt; go
Msg 3702, Level 16, State 4:
Server &apos;ggserver&apos;, Line 1:
Cannot drop the database &apos;vggdb&apos; because it is currently in use.
</code></pre><p>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;:
kill &#x6389;&#x6240;&#x6709;&#x7684;&#x8FDE;&#x63A5;&#x8FDB;&#x7A0B;&#xFF0C;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x3002;
&#x5728;session&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>A session connected to another database might have an open transaction that also affects your database - sp_who2 will only show one database. It could also be something as simple as Object Explorer or Object Explorer Details open in SSMS, which again would only show one database in sp_who2.

Don&apos;t bother trying to find the session that is responsible; just kill them all with one statement (and make sure it isn&apos;t your copy of SSMS that is connected, e.g. another query window, Object Explorer, etc.):

USE master;
GO
ALTER DATABASE dbname SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
GO
Now you will be able to drop it, and do that using DDL, not the UI:

DROP DATABASE dbname;
</code></pre><h4 id="5&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x60C5;&#x51B5;">(5)&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x60C5;&#x51B5;</h4>
<pre><code>use syk go
sp_spaceused go
</code></pre><h4 id="6-&#x9ED8;&#x8BA4;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;&#x3001;&#x5B57;&#x7B26;&#x96C6;&#x7B49;&#x4FE1;&#x606F;">(6) &#x9ED8;&#x8BA4;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;&#x3001;&#x5B57;&#x7B26;&#x96C6;&#x7B49;&#x4FE1;&#x606F;</h4>
<p>sp_helpsort   </p>
<ol>
<li>&#x67E5;&#x770B;&#x7528;&#x6237;&#x4FE1;&#x606F; sp_helpuser</li>
<li>&#x7528;&#x6237;&#x9501;&#x5B9A;&#x64CD;&#x4F5C; sp_locklogin /sp_locklogin username,&#x2019;lock/unlock&#x2019;</li>
<li>&#x67E5;&#x770B;&#x767B;&#x5F55;&#x7528;&#x6237; sp_displaylogin [loginname]/sp_who</li>
<li>bcp
bcp dbname..tablename out /opt/sybase/test.bcp &#x2013;Usa &#x2013;P &#x2013;Sservername &#x2013;c &#x2014;&#x2014;&#x2014;&#x2014;&#x6570;&#x636E;&#x5907;&#x4EFD;
bcp dbname..tablename in /opt/sybase/test.bcp &#x2013;Usa &#x2013;P &#x2013;Sservername &#x2013;c &#x2014;&#x2014;&#x2014;&#x2014;&#x6570;&#x636E;&#x8FD8;&#x539F;
&#x4E00;&#x6B21;&#x6027;&#x5BFC;&#x51FA;&#x6240;&#x6709;&#x8868;
(1)&#x5EFA;&#x7ACB;&#x5BFC;&#x51FA;&#x811A;&#x672C;&#x6587;&#x4EF6;(bcpout.sh):
use test go
select &#x2018;bcp test..&#x2019;+name+&#x2019;out /opt/sybase/test.txt&#x2019;+&#x2019;-Usa &#x2013;P &#x2013;Sservername -c&#x2019;from sysobjects where type=&#x2019;U&#x2019;U&#x8868;&#x793A;&#x4E3A;&#x7528;&#x6237;&#x8868;&#x3002;</li>
<li>&#x5217;&#x51FA;&#x6240;&#x6709;&#x5E93; sp_helpdb</li>
<li>&#x67E5;&#x770B;&#x8868;&#x4FE1;&#x606F; sp_help [tablename]</li>
<li>&#x6570;&#x636E;&#x5E93;&#x6B7B;&#x8FDB;&#x7A0B; select * from master..syslogshold</li>
</ol>
<h2 id="sybase-ase-&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#xFF08;transaction-log&#xFF09;&#x7BA1;&#x7406;">SYBASE ASE &#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#xFF08;transaction log&#xFF09;&#x7BA1;&#x7406;</h2>
<p>SYBASE ASE &#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#xFF08;master,model,sybsystemprocs,tempdb&#xFF09;&#xFF0C;&#x8FD8;&#x662F;&#x7528;&#x6237;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;transaction log&#xFF0C;&#x6BCF;&#x4E2A;&#x5E93;&#x90FD;&#x6709;syslogs&#x8868;&#x3002;Log&#x8BB0;&#x5F55;&#x7528;&#x6237;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x4FEE;&#x6539;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x4E0D;&#x7528;&#x547D;&#x4EE4;&#x6E05;&#x9664;&#xFF0C; log&#x4F1A;&#x4E00;&#x76F4;&#x589E;&#x957F;&#x76F4;&#x81F3;&#x5360;&#x6EE1;&#x7A7A;&#x95F4;&#x3002;&#x6E05;&#x9664;log&#x53EF;&#x7528;dump transaction &#x547D;&#x4EE4;; &#x6216;&#x8005;&#x5F00;&#x653E;&#x6570;&#x636E;&#x5E93;&#x9009;&#x9879;trunc log on chkpt&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x95F4;&#x9694;&#x81EA;
&#x52A8;&#x6E05;&#x9664;log&#x3002;&#x7BA1;&#x7406;&#x597D;&#x6570;&#x636E;&#x5E93;log &#x662F;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x5FC5;&#x987B;&#x8003;&#x8651;&#x7684;&#x4E00;&#x9762;&#x3002;
&#x4E0B;&#x9762;&#x5C31;&#x51E0;&#x4E2A;&#x65B9;&#x9762;&#x8C08;&#x8C08;log &#x53CA;&#x5176;&#x7BA1;&#x7406;:</p>
<h3 id="ase-&#x5982;&#x4F55;&#x8BB0;&#x5F55;&#x53CA;&#x8BFB;&#x53D6;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;">ASE &#x5982;&#x4F55;&#x8BB0;&#x5F55;&#x53CA;&#x8BFB;&#x53D6;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;</h3>
<p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;ASE &#x662F;&#x5148;&#x8BB0;log &#x7684;&#x673A;&#x5236;&#x3002;Server Cache Memory &#x4E2D;&#x65E5;&#x5FD7;&#x9875;&#x603B;&#x662F;&#x5148;&#x5199;&#x4E8E;&#x6570;&#x636E;&#x9875;:
Log pages &#x5728;commit ,checkpoint,space needed &#x65F6;&#x5199;&#x5165;&#x786C;&#x76D8;&#x3002;
Data pages &#x5728;checkpoint,space needed &#x65F6;&#x5199;&#x5165;&#x786C;&#x76D8;&#x3002;
&#x7CFB;&#x7EDF;&#x5728;recovery &#x65F6;&#x8BFB;&#x6BCF;&#x4E2A;database &#x7684;syslogs &#x8868;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x56DE;&#x9000;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x4E8B;&#x52A1;(transaction)
&#xFF08;&#x6570;&#x636E;&#x6539;&#x53D8;&#x5230;&#x4E8B;&#x52A1;&#x524D;&#x72B6;&#x6001;&#xFF09;; &#x5B8C;&#x6210;&#x5DF2;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;(transaction) &#xFF08;&#x6570;&#x636E;&#x6539;&#x53D8;&#x4E3A;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x540E;&#x7684;&#x72B6;&#x6001;&#xFF09;&#x3002;
&#x5728;Log &#x4E2D;&#x8BB0;&#x4E0B;checkpoint &#x70B9;&#x3002;&#x8FD9;&#x6837;&#x4FDD;&#x8BC1;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x5B8C;&#x6574;&#x6027;&#x3002;</p>
<h3 id="transaction-logs-&#x548C;-checkpoint-&#x8FDB;&#x7A0B;">Transaction logs &#x548C; checkpoint &#x8FDB;&#x7A0B;</h3>
<p>checkpoint &#x547D;&#x4EE4;&#x7684;&#x529F;&#x80FD;&#x662F;&#x5F3A;&#x5236;&#x6240;&#x6709;&#x201C;&#x810F;&#x201D;&#x9875;&#xFF08;&#x81EA;&#x4E0A;&#x6B21;&#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x5907;&#x540E;&#x88AB;&#x66F4;&#x65B0;&#x8FC7;&#x7684;&#x9875;&#xFF09;
&#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x5907;&#x3002;&#x81EA;&#x52A8;&#x7684;checkpoint &#x95F4;&#x9694;&#x662F;&#x7531;ASE &#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x6D3B;&#x52A8;&#x548C;&#x7CFB;&#x7EDF;&#x8868;sysconfigures &#x4E2D;
&#x7684;&#x6062;&#x590D;&#x95F4;&#x9694;&#xFF08;recovery interval&#xFF09;&#x503C;&#x8BA1;&#x7B97;&#x51FA;&#x7684;&#x3002;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x7CFB;&#x7EDF;&#x6062;&#x590D;&#x6240;&#x9700;&#x7684;&#x65F6;&#x95F4;&#x603B;&#x91CF;&#xFF0C;&#x6062;&#x590D;&#x95F4;&#x9694;
&#x51B3;&#x5B9A;&#x4E86;checkpoint &#x7684;&#x9891;&#x7387;&#x3002;
&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x5F00;&#x653E;trunc log on chkpt &#x9009;&#x9879;&#xFF0C;&#x5219;ASE &#x5728;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x6267;&#x884C;checkpoint &#x65F6;&#x81EA;&#x52A8;
&#x6E05;&#x9664;log&#x3002;&#x4F46;&#x7528;&#x6237;&#x81EA;&#x5DF1;&#x5199;&#x5165;&#x6267;&#x884C;&#x7684;checkpoint &#x547D;&#x4EE4;&#x5E76;&#x4E0D;&#x6E05;&#x9664;log&#xFF0C;&#x5373;&#x4F7F;trunc log on chkpt &#x9009;&#x9879;
&#x5F00;&#x653E;&#x3002;&#x53EA;&#x6709;&#x5728;trunc log on chkpt &#x9009;&#x9879;&#x5F00;&#x653E;&#x65F6;&#xFF0C;ASE &#x81EA;&#x52A8;&#x6267;&#x884C;checkpoint &#x52A8;&#x4F5C;&#xFF0C;&#x624D;&#x80FD;&#x81EA;&#x52A8;&#x6E05;
&#x9664;log &#x3002;&#x8FD9;&#x4E2A;&#x81EA;&#x52A8;&#x7684;checkpoint &#x52A8;&#x4F5C;&#x5728;ASE &#x4E2D;&#x7684;&#x8FDB;&#x7A0B;&#x53EB;&#x505A;checkpoint &#x8FDB;&#x7A0B;&#x3002;&#x5F53;trunc log on
chkpt &#x9009;&#x9879;&#x5F00;&#x653E;&#x65F6;&#xFF0C;checkpoint &#x8FDB;&#x7A0B;&#x6BCF;&#x9694;60 &#x79D2;&#x5DE6;&#x53F3;&#x6E05;&#x9664;log&#xFF0C;&#x800C;&#x4E0D;&#x8003;&#x8651;recovery interval &#x8BBE;&#x7F6E;
&#x65F6;&#x95F4;&#x7684;&#x95F4;&#x9694;&#x3002;</p>
<h3 id="transaction-log-&#x7684;&#x5927;&#x5C0F;">Transaction log &#x7684;&#x5927;&#x5C0F;</h3>
<p>&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x5341;&#x5206;&#x4E25;&#x683C;&#x7684;&#x548C;&#x786E;&#x5207;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x786E;&#x5B9A;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7684;log&#x5E94;&#x8BE5;&#x7ED9;&#x591A;&#x5927;&#x7A7A;&#x95F4;&#x3002;&#x5BF9;&#x4E00;&#x4E2A;&#x65B0;
&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6765;&#x8BF4;&#xFF0C;log&#x5927;&#x5C0F;&#x4E3A;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5927;&#x5C0F;&#x7684;20%&#x5DE6;&#x53F3;&#x3002;&#x56E0;&#x4E3A;log&#x8BB0;&#x5F55;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x5982;
&#x679C;&#x4FEE;&#x6539;&#x7684;&#x52A8;&#x4F5C;&#x9891;&#x7E41;&#xFF0C;&#x5219;log &#x7684;&#x589E;&#x957F;&#x5341;&#x5206;&#x8FC5;&#x901F;&#x3002;&#x6240;&#x4EE5;&#x8BF4;log &#x7A7A;&#x95F4;&#x5927;&#x5C0F;&#x4F9D;&#x8D56;&#x4E8E;&#x7528;&#x6237;&#x662F;&#x5982;&#x4F55;&#x4F7F;
&#x7528;&#x6570;&#x636E;&#x5E93;&#x7684;&#x3002; &#x4F8B;&#x5982;:
update,insert &#x548C;delete &#x7684;&#x9891;&#x7387;&#x6BCF;&#x4E2A;transaction &#x4E2D;&#x6570;&#x636E;&#x7684;&#x4FEE;&#x6539;&#x91CF;ASE &#x7CFB;&#x7EDF;&#x53C2;&#x6570;recovery interval&#x503C;log&#x662F;&#x5426;&#x5B58;&#x5230;&#x4ECB;&#x8D28;&#x4E0A;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x6062;&#x590D;&#x8FD8;&#x6709;&#x5176;&#x5B83;&#x56E0;&#x7D20;&#x5F71;&#x54CD;log&#x5927;&#x5C0F;&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x6839;&#x636E;&#x64CD;&#x4F5C;&#x4F30;&#x8BA1;log&#x5927;&#x5C0F;&#xFF0C;&#x5E76;&#x95F4;&#x9694;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#x5C31;&#x5BF9;log
&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x548C;&#x6E05;&#x9664;&#x3002;</p>
<h3 id="&#x68C0;&#x6D4B;log-&#x7684;&#x5927;&#x5C0F;">&#x68C0;&#x6D4B;log &#x7684;&#x5927;&#x5C0F;</h3>
<p>&#x82E5;log &#x5728;&#x81EA;&#x5DF1;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#xFF0C;dbcc checktable (syslogs) &#x6709;&#x5982;&#x4E0B;&#x4FE1;&#x606F;:
&#x4F8B;:<strong><em>NOTICE:space used on the log segment is 12.87Mbytes,64.35%
</em></strong>NOTICE:space free on the log segment is 7.13Mbytes,35.65%
&#x6839;&#x636E;log &#x5269;&#x4F59;&#x7A7A;&#x95F4;&#x6BD4;&#x4F8B;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x4F7F;&#x7528;dump transaction &#x547D;&#x4EE4;&#x6765;&#x5907;&#x4EFD;&#x548C;&#x6E05;&#x9664;log&#x3002;
&#x7528;&#x5FEB;&#x901F;&#x65B9;&#x6CD5;&#x6765;&#x5224;&#x65AD;transaction log &#x6EE1;&#x7684;&#x7A0B;&#x5EA6;&#x3002;</p>
<pre><code>1&gt;use database_name
2&gt;go
1&gt;select data_pgs (8,doampg)
2&gt;from sysindexes where id=8
3&gt;go
Note:this query may be off by as many as 16 pages.
</code></pre><p>&#x5728;syslogs &#x8868;&#x7528;sp_spaceused &#x547D;&#x4EE4;&#x3002;</p>
<h3 id="log-&#x8BBE;&#x5907;">log &#x8BBE;&#x5907;</h3>
<p>&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x5E94;&#x8BE5;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7684;data&#x548C;log&#x5B58;&#x653E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x5907;&#x4E0A;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x597D;&#x5904;:&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x5730;&#x5907;&#x4EFD;(back up)transaction log
&#x9632;&#x6B62;&#x6570;&#x636E;&#x5E93;&#x6EA2;&#x6EE1;&#x53EF;&#x4EE5;&#x770B;&#x5230;log &#x7A7A;&#x95F4;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x3002;[dbcc checktable (syslogs)]&#x53EF;&#x4EE5;&#x955C;&#x50CF;log &#x8BBE;&#x5907;</p>
<h3 id="log-&#x7684;&#x6E05;&#x9664;">log &#x7684;&#x6E05;&#x9664;</h3>
<p>&#x6570;&#x636E;&#x5E93;&#x7684;log &#x662F;&#x4E0D;&#x65AD;&#x589E;&#x957F;&#x7684;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x5B83;&#x5360;&#x6EE1;&#x7A7A;&#x95F4;&#x4E4B;&#x524D;&#x6E05;&#x9664;&#x3002;&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x8BA8;&#x8BBA;&#x8FC7;&#xFF0C;&#x6E05;&#x9664;log&#x53EF;&#x4EE5;&#x5F00;&#x653E;&#x6570;&#x636E;&#x5E93;&#x9009;&#x9879;trunc log on chkpt&#xFF0C;&#x4F7F;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x81EA;&#x52A8;&#x6E05;&#x9664;log&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x547D;&#x4EE4;dump transaction &#x6765;&#x6E05;&#x9664;log.&#x201C;trunc log on chkpt&#x201D; &#x9009;&#x9879;&#x540C;&#x201C;dump transaction with truncate_only&#x201D; &#x547D;&#x4EE4;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x6E05;&#x9664;log &#x800C;&#x4E0D;&#x4FDD;&#x7559;log &#x5230;&#x5907;&#x4EFD;&#x8BBE;&#x5907;&#x4E0A;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x53EA;&#x60F3;&#x6E05;&#x9664;log &#x800C;&#x4E0D;&#x505A;&#x5907;&#x4EFD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;trunc log on chkpt &#x9009;&#x9879;&#x53CA;dump transaction with truncate_only,dump transaction
with no_log &#x547D;&#x4EE4;&#x3002;&#x82E5;&#x60F3;&#x5907;&#x4EFD;&#xFF0C;&#x5E94;&#x505A;dump transaction database_name to dumpdevice&#x3002;</p>
<p>&#x5728;&#x547D;&#x4EE4;&#x53C2;&#x8003;&#x624B;&#x518C;&#x4E2D;&#x7684;dump transaction with no_log &#x6761;&#x76EE;&#x4E0B;&#xFF0C;&#x6709;&#x4E00;&#x6761;&#x8B66;&#x544A;&#x4FE1;&#x606F;&#x544A;&#x8BC9;&#x4F60;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x628A;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x4F5C;&#x4E3A;&#x6CA1;&#x6709;&#x5176;&#x5B83;&#x529E;&#x6CD5;&#x65F6;&#x7684;&#x6700;&#x540E;&#x4E00;&#x62DB;&#x624D;&#x4F7F;&#x7528;&#x5B83;&#x3002;&#x4F46;&#x662F;&#x201C;&#x6700;&#x540E;&#x4E00;&#x62DB;&#x201D;&#x7A76;&#x7ADF;&#x662F;&#x4EC0;&#x4E48;&#x610F;
&#x601D;&#x5462;?&#x5F53;&#x4F60;&#x4F7F;&#x7528;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x65F6;&#x4F1A;&#x600E;&#x6837;&#x5462;?&#x90A3;&#x4F60;&#x5E94;&#x4F7F;&#x7528;&#x54EA;&#x6761;&#x547D;&#x4EE4;&#x6765;&#x4EE3;&#x66FF;&#x5B83;&#x5462;?&#x6700;&#x540E;&#xFF0C;&#x82E5;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x5982;&#x6B64;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;Sybase &#x5374;&#x8981;&#x63D0;&#x4F9B;&#x5B83;&#x5462;?</p>
<p>Sybase&#x6280;&#x672F;&#x652F;&#x6301;&#x5EFA;&#x8BAE;&#x4F60;&#x5B9A;&#x671F;&#x7684;dump&#x4F60;&#x7684;transaction log&#x3002;&#x4F60;&#x5FC5;&#x987B;&#x6839;&#x636E;&#x4F60;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x8BB0;&#x5165;&#x65E5;&#x5FD7;&#x7684;&#x6D3B;&#x52A8;&#x91CF;&#x7684;&#x5927;&#x5C0F;&#x4EE5;&#x53CA;&#x4F60;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5927;&#x5C0F;&#x6765;&#x51B3;&#x5B9A;dump &#x7684;&#x65B9;&#x5F0F;&#x3002;&#x6709;&#x4E9B;&#x5730;&#x65B9;&#x6309;&#x6708;dumptransaction; &#x6709;&#x4E9B;&#x5730;&#x65B9;&#x6BCF;&#x591C;dump transaction&#x3002;</p>
<p>&#x82E5;&#x4F60;&#x4ECE;&#x672A;&#x505A;&#x8FC7;dump transaction&#xFF0C;transaction log&#x5C06;&#x6700;&#x7EC8;&#x4F1A;&#x6EE1;&#x3002; SQLServer&#x4F7F;&#x7528;log&#xFF08;&#x65E5;&#x5FD7;&#xFF09;
&#x662F;&#x51FA;&#x4E8E;&#x6062;&#x590D;&#x76EE;&#x7684;&#x7684;&#x3002; &#x5F53;log&#x6EE1;&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x505C;&#x6B62;&#x4E8B;&#x7269;&#x7684;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#xFF0C;&#x56E0;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x4E0D;&#x80FD;&#x5C06;&#x8FD9;&#x4E9B;
&#x4E8B;&#x7269;&#x5199;&#x8FDB;&#x65E5;&#x5FD7;&#xFF0C;&#x800C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x8FD0;&#x884C;&#x5927;&#x591A;&#x6570;&#x7684;dump tran &#x547D;&#x4EE4;&#xFF0C;&#x56E0;&#x4E3A;ASE&#x4E5F;&#x9700;&#x5728;&#x65E5;&#x5FD7;&#x4E2D;&#x8BB0;&#x5F55;&#x8FD9;
&#x4E9B;&#x547D;&#x4EE4;&#x3002;</p>
<p>&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5F53;&#x5176;&#x5B83;dumptran&#x547D;&#x4EE4;&#x4E0D;&#x80FD;&#x6267;&#x884C;&#x65F6;no_log&#x53EF;&#x6267;&#x884C;&#x7684;&#x539F;&#x56E0;&#x3002;&#x4F46;&#x662F;&#x60F3;&#x4E00;&#x4E0B;dump transaction with no_log&#x88AB;&#x8BBE;&#x8BA1;&#x6267;&#x884C;&#x7684;&#x73AF;&#x5883;&#xFF0C;&#x5C06;&#x4E0D;&#x505A;&#x5E76;&#x53D1;&#x6027;&#x68C0;&#x67E5;&#x3002;&#x82E5;&#x4F60;&#x5728;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FEE;&#x6539;&#x53D1;&#x751F;&#x65F6;&#x4F7F;&#x7528;dump transaction with no_log&#xFF0C;&#x4F60;&#x5C31;&#x4F1A;&#x5192;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;
&#x5D29;&#x6E83;&#x7684;&#x98CE;&#x9669;&#x3002;&#x5728;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4EEC;&#x88AB;&#x53CD;&#x6620;&#x6210;813 &#x6216;605 &#x9519;&#x8BEF;&#x3002;&#x4E3A;&#x4E86;&#x5728;&#x6570;&#x636E;&#x5E93;&#x88AB;&#x4FEE;&#x6539;&#x65F6;&#xFF0C;&#x5220;&#x9664;transaction log&#x4E2D;&#x7684;&#x4E0D;&#x6D3B;&#x8DC3;&#x90E8;&#x5206;&#x53EF;&#x4F7F;&#x7528;dump transaction with truncate_only&#x3002;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x5199;&#x8FDB;transaction
log &#x65F6;&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x8FD8;&#x505A;&#x5FC5;&#x8981;&#x7684;&#x5E76;&#x53D1;&#x6027;&#x68C0;&#x67E5;&#x3002;&#x8FD9;&#x4E24;&#x6761;&#x547D;&#x4EE4;&#x90FD;&#x6709;&#x4E0E;&#x5176;&#x76F8;&#x5173;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x53C2;&#x8003;&#x624B;&#x518C;&#x4E2D;&#x4F1A;&#x770B;&#x5230;&#x8FD9;&#x4E9B;&#x8B66;&#x544A;&#x3002;&#x8BF7;&#x786E;&#x4FDD;&#x5728;&#x4F7F;&#x7528;&#x5176;&#x4E2D;&#x4EFB;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x4EE5;&#x524D;&#xFF0C;&#x4F60;&#x5DF2;&#x7406;&#x89E3;&#x8FD9;&#x4E9B;&#x8B66;&#x544A;&#x548C;&#x6307;&#x793A;&#x3002;</p>
<p>Sybase &#x63D0;&#x4F9B;dump transaction with no_log&#x6765;&#x5904;&#x7406;&#x67D0;&#x4E9B;&#x975E;&#x5E38;&#x7D27;&#x8FEB;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x4E3A;&#x4E86;&#x5C3D;&#x91CF;&#x786E;&#x4FDD;&#x4F60;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x4F60;&#x5E94;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;&#x201C;&#x6700;&#x540E;&#x4E00;&#x62DB;&#x201D;&#x3002;</p>
<h3 id="&#x7BA1;&#x7406;&#x5927;&#x7684;transactions">&#x7BA1;&#x7406;&#x5927;&#x7684;transactions</h3>
<p>&#x6709;&#x4E9B;&#x64CD;&#x4F5C;&#x662F;&#x5927;&#x6279;&#x91CF;&#x5730;&#x4FEE;&#x6539;&#x6570;&#x636E;&#xFF0C;log &#x589E;&#x957F;&#x901F;&#x5EA6;&#x5341;&#x5206;&#x5FEB;&#xFF0C;&#x5982;:
&#x5927;&#x91CF;&#x6570;&#x636E;&#x4FEE;&#x6539;
&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;
&#x57FA;&#x4E8E;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x63D2;&#x5165;
&#x6279;&#x91CF;&#x6570;&#x636E;&#x62F7;&#x8D1D;
&#x4E0B;&#x9762;&#x8BB2;&#x8FF0;&#x600E;&#x6837;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;transaction &#x4F7F;log &#x4E0D;&#x81F3;&#x6EA2;&#x6EE1;:
&#x5927;&#x91CF;&#x6570;&#x636E;&#x4FEE;&#x6539; &#x4F8B; :</p>
<pre><code>1&gt;update large_tab set col_1=0
2&gt;go
</code></pre><p>&#x82E5;&#x8FD9;&#x4E2A;&#x8868;&#x5F88;&#x5927;&#xFF0C;&#x5219;&#x6B64;update&#x52A8;&#x4F5C;&#x5728;&#x672A;&#x5B8C;&#x6210;&#x4E4B;&#x524D;&#x5C31;&#x53EF;&#x80FD;&#x4F7F;log&#x6EE1;&#xFF0C;&#x5F15;&#x8D77;1105&#x9519;&#x8BEF;&#xFF08;log full&#xFF09;
&#x800C;&#x4E14;&#x6267;&#x884C;&#x8FD9;&#x79CD;&#x5927;&#x7684;transaction &#x6240;&#x4EA7;&#x751F;&#x7684;exclusive table lock&#xFF0C;&#x963B;&#x6B62;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x5728;update &#x671F;&#x95F4;&#x4FEE;
&#x6539;&#x8FD9;&#x4E2A;&#x8868;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x5F15;&#x8D77;&#x6B7B;&#x9501;&#x3002;&#x4E3A;&#x907F;&#x514D;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E2A;&#x5927;&#x7684;transaction &#x5206;&#x6210;&#x51E0;&#x4E2A;&#x5C0F;
&#x7684;transactions&#xFF0C;&#x5E76;&#x6267;&#x884C;dump transaction &#x52A8;&#x4F5C;&#x3002;
&#x4E0A;&#x8FF0;&#x4F8B;&#x5B50;&#x53EF;&#x4EE5;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5C0F;transactions.
&#x4F8B;&#x5982;:</p>
<pre><code>1&gt;update large_tab set col1=0
2&gt;where col2&lt;x
3&gt;go
1&gt;dump transaction database_name with truncate_only
2&gt;go
1&gt;update large_tab set col1=0
2&gt;where col2&gt;=x
3&gt;go
1&gt;dump transaction database_name with truncate_only
2&gt;go
</code></pre><p>&#x82E5;&#x8FD9;&#x4E2A;transaction &#x9700;&#x8981;&#x5907;&#x4EFD;&#x5230;&#x4ECB;&#x8D28;&#x4E0A;&#xFF0C;&#x5219;&#x4E0D;&#x7528;with truncate_only &#x9009;&#x9879;&#x3002;&#x82E5;&#x6267; &#x884C;dump
transaction with truncate_only&#xFF0C;&#x5E94;&#x8BE5;&#x5148;&#x505A;dump database &#x547D;&#x4EE4;&#x3002;
&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;:
&#x4F8B;:</p>
<pre><code>1&gt;delete table large_tab
2&gt;go
</code></pre><p>&#x540C;&#x6837;&#xFF0C;&#x628A;&#x6574;&#x4E2A;table &#x7684;&#x8BB0;&#x5F55;&#x90FD;&#x5220;&#x9664;&#xFF0C;&#x8981;&#x8BB0;&#x5F88;&#x591A;log&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;truncate table &#x547D;&#x4EE4;&#x4EE3;&#x66FF;&#x4E0A;
&#x8FF0;&#x8BED;&#x53E5;&#x5B8C;&#x6210;&#x76F8;&#x540C;&#x529F;&#x80FD;&#x3002;</p>
<pre><code>1&gt;truncate table large_tab
2&gt;go
</code></pre><p>&#x8FD9;&#x6837;&#xFF0C;&#x8868;&#x4E2D;&#x8BB0;&#x5F55;&#x90FD;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x800C;&#x4F7F;&#x7528;truncate table &#x547D;&#x4EE4;&#xFF0C;log &#x53EA;&#x8BB0;&#x5F55;&#x7A7A;&#x95F4;&#x56DE;&#x6536;&#x60C5;&#x51B5;&#xFF0C;&#x800C;&#x4E0D;
&#x662F;&#x8BB0;&#x5F55;&#x5220;&#x9664;&#x8868;&#x4E2D;&#x6BCF;&#x4E00;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x3002;
&#x57FA;&#x4E8E;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x63D2;&#x5165;
&#x4F8B;:</p>
<pre><code>1&gt;insert new_tab select col1,col2 from large_tab
2&gt;go
</code></pre><p>&#x540C;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x8FD9;&#x4E2A;&#x5927;&#x7684;transaction&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5904;&#x7406;&#x4E3A;&#x51E0;&#x4E2A;&#x5C0F;&#x7684;transactions&#x3002;</p>
<pre><code>1&gt;Insert new_tab
2&gt;select col1,col2 from large_tab where col1&lt;=y
3&gt;go
1&gt;dump transaction database_name with truncate_only
2&gt;go
1&gt;insert new_tab
2&gt;select col1,col2 from large_tab where col1&gt;y
3&gt;go
1&gt;dump database database_name with truncate_only
2&gt;go
</code></pre><p>&#x540C;&#x6837;&#xFF0C;&#x82E5;&#x60F3;&#x4FDD;&#x5B58;log &#x5230;&#x4ECB;&#x8D28;&#x4E0A;&#xFF0C;&#x5219;dump transaction &#x540E;&#x4E0D;&#x52A0;with truncate_only &#x9009;&#x9879;&#x3002;&#x82E5;
&#x6267;&#x884C;dump transaction with truncate_only&#xFF0C;&#x5E94;&#x8BE5;&#x5148;&#x505A;dump database &#x52A8;&#x4F5C;&#x3002;
&#x6279;&#x91CF;&#x6570;&#x636E;&#x62F7;&#x8D1D;
&#x5728;&#x4F7F;&#x7528;bcp&#x628A;&#x6570;&#x636E;&#x62F7;&#x5165;&#x6570;&#x636E;&#x5E93;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E2A;&#x5927;&#x7684;transaction&#x53D8;&#x6210;&#x51E0;&#x4E2A;&#x5C0F;&#x7684;transactions
&#x5904;&#x7406;&#xFF0C;&#x907F;&#x514D;log &#x5267;&#x589E;&#x3002;
&#x5F00;&#x653E;trunc log on chkpt &#x9009;&#x9879;</p>
<pre><code>1&gt;use master
2&gt;go
1&gt;sp_dboption database_name,trunc,true
2&gt;go
1&gt;use database_name
2&gt;go
1&gt;checkpoint
2&gt;go
bcp... -b 100 (on unix)
bcp... /batch_size=100(on vms)
</code></pre><p>&#x5173;&#x95ED;trunc log on chkpt &#x9009;&#x9879;&#xFF0C;&#x5E76;dump database&#x3002;
&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x6279;&#x6267;&#x884C;100 &#x884C;&#x62F7;&#x8D1D;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;bcp &#x8F93;&#x5165;&#x6587;&#x4EF6;&#x5206;&#x6210;&#x4E24;&#x6216;&#x591A;&#x4E2A;&#x5206;&#x5F00;&#x7684;&#x6587;
&#x4EF6;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x6267;&#x884C;&#x540E;&#x505A;dump transaction &#x6765;&#x907F;&#x514D;log &#x6EE1;&#x3002;
&#x82E5;bcp &#x4F7F;&#x7528;&#x5FEB;&#x901F;&#x65B9;&#x5F0F;&#xFF08;&#x65E0;&#x7D22;&#x5F15;&#xFF0C;&#x65E0;triggers&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x64CD;&#x4F5C;&#x4E0D;&#x8BB0;log&#xFF0C;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;log &#x53EA;&#x8BB0;&#x8F7D;
&#x7A7A;&#x95F4;&#x5206;&#x914D;&#x60C5;&#x51B5;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8981;&#x5148;&#x505A;dump database&#xFF08;&#x4E3A;&#x6062;&#x590D;&#x6570;&#x636E;&#x5E93;&#x7528;&#xFF09;&#x3002;&#x82E5;log &#x592A;&#x5C0F;&#xFF0C;&#x53EF;
&#x7F6E;trunc log on chkpt &#x9009;&#x9879;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x6BCF;&#x6B21;checkpoint &#x540E;&#x6E05;&#x9664;log&#x3002;</p>
<h2 id="&#x5FEB;&#x901F;bcp-in">&#x5FEB;&#x901F;bcp in</h2>
<p>&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>use master
go 
execute sp_dboption yourdbname, &quot;select into/bulkcopy&quot;, true
go
use yourdbname
go
checkpoint
go
</code></pre><p>&#x8BBE;&#x7F6E;&#x622A;&#x65AD;&#x65E5;&#x5FD7;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code>use master
go 
execute sp_dboption &quot;yourdbname&quot;,&quot;trunc.&quot;,truego
use yourdbname
go
checkpoint
go
</code></pre><h2 id="&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x6C47;&#x603B;">&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x6C47;&#x603B;</h2>
<h3 id="&#x4FEE;&#x6539;sybase&#x5B57;&#x7B26;&#x96C6;">&#x4FEE;&#x6539;Sybase&#x5B57;&#x7B26;&#x96C6;</h3>
<p>&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF1A;</p>
<pre><code>cd $SYBASE/charsets/cp936
charset -Usa -Ppassword -Sserver binary.srt cp936

isql -Usa -Ppassword -Sserver
1&gt; select id,name from syscharsets
2&gt; go

1&gt; sp_configure &quot;default character set id&quot;,171
2&gt; go
Msg 5824, Level 16, State 4:
Server &apos;ggserver&apos;, Procedure &apos;sp_configure&apos;, Line 1321:
Cannot reconfigure server to use sort order ID 45, because the row for its
underlying character set (ID 171) does not exist in syscharsets.
(1 row affected)
(return status = 1)
</code></pre><p>&#x5982;&#x4E0A;&#xFF0C;&#x62A5;&#x9519;&#x4E86;&#x3002;</p>
<p>&#x89E3;&#x51B3;&#x8FC7;&#x7A0B;&#xFF1A;</p>
<pre><code>sp_configure &apos;default sortorder id&apos;
</code></pre><p>&#x53D1;&#x73B0;&#x6539;&#x503C;&#x5DF2;&#x88AB;&#x6539;&#x4E3A;45
&#x4E8E;&#x662F;&#x4FEE;&#x6539;&#xFF1A;</p>
<pre><code>1&gt; sp_configure &apos;default sortorder id&apos;,50
2&gt; go
Msg 5824, Level 16, State 4:
Server &apos;ggserver&apos;, Procedure &apos;sp_configure&apos;, Line 1321:
Cannot reconfigure server to use sort order ID 50, because the row for its
underlying character set (ID 190) does not exist in syscharsets.
(1 row affected)
(return status = 1)
</code></pre><p>&#x4FEE;&#x6539;&#x662F;&#x53D1;&#x73B0;&#x62A5;&#x9519;&#xFF1A;
1&gt; sp_configure &apos;default sortorder id&apos;,50,&apos;cp936&apos;
2&gt; go</p>
<p>&#x8FD9;&#x6837;&#x4FEE;&#x6539;&#x6210;&#x529F;&#x4E86;</p>
<p>&#x7136;&#x540E;&#x6267;&#x884C;&#xFF1A;</p>
<pre><code>1&gt; sp_configure &quot;default character set id&quot;,171
2&gt; go
</code></pre><p>&#x5B8C;&#x6210;&#x4FEE;&#x6539;&#x3002;</p>
<h3 id="&#x5BFC;&#x51FA;&#x8868;&#x7ED3;&#x679C;">&#x5BFC;&#x51FA;&#x8868;&#x7ED3;&#x679C;</h3>
<p>&#x811A;&#x672C;&#x5185;&#x5BB9;</p>
<pre><code>#exportTable.sh

export SYBROOT=/syb64bit
export SYBASE_JRE=/syb64bit/shared/jre142_015
&gt;table.ddl
cat table.list|while read tab
do
ddlgen -Usa -P -SSYB_SERV -Duserdb -TU -N${tab} -O tmp.ddl
cat tmp.ddl|sed &apos;/^create/,/^go/!d&apos; &gt;&gt;table.ddl
done
rm tmp.ddl
</code></pre><p>ddlgen&#x7684;&#x5176;&#x4ED6;&#x7528;&#x6CD5;:
1&#x3001;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;
<code>ddlgen -Usa -P -SSYB_SERV -Duserdb -TP -N% -O proc.ddl</code>
2&#x3001;&#x6570;&#x636E;&#x5E93;
<code>ddlgen -Usa -P -SSYB_SERV -Duserdb -TDB -Nuserdb -O db.ddl</code>
3&#x3001;&#x8868;&#x7ED3;&#x6784;
<code>ddlgen -Usa -P -SSYB_SERV -Duserdb -TU -N% -O table.ddl</code>
4&#x3001;&#x89C6;&#x56FE;
<code>ddlgen -Usa -P -SSYB_SERV -Duserdb -TV -N% -O view.ddl</code></p>
<p>&#x65E5;&#x5FD7;&#x6EE1;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;1.&#x975E;master(&#x7528;&#x6237;&#x5E93;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x5E93;sybsystemprocs)&#x5E93;&#x7684;&#x65E5;&#x5FD7;&#x6EE1;&#xFF0C;&#x5BFC;&#x81F4;&#x7528;&#x6237;&#x5E93;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#xFF1B;2.&#x7CFB;&#x7EDF;&#x5E93;master&#x65E5;&#x5FD7;&#x6EE1;&#xFF0C;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x90FD;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x3002;&#x9488;&#x5BF9;&#x4EE5;&#x4E0A;&#x60C5;&#x51B5;&#x8981;&#x5206;&#x522B;&#x5BF9;&#x5F85;&#x5904;&#x7406;&#x3002;
1.&#x975E;master&#x5E93;&#x65E5;&#x5FD7;&#x6EE1;&#x7684;&#x5904;&#x7406;&#xFF1A;
&#x91CD;&#x5E86;&#x6570;&#x636E;&#x5E93;&#x540E;&#x53F0;sybsystemprocs&#x5E93;&#x65E5;&#x5FD7;&#x62A5;&#x6EE1;&#xFF1A;09:00000:01631:2011/11/13 06:45:36.16 server  Error: 3475, Severity: 21, State: 7
09:00000:01631:2011/11/13 06:45:36.16 server  There is no space available in SYSLOGS to log a record for which space has been reserved. This process will retry at intervals of one minute.
11:00000:04104:2011/11/13 06:20:11.87 server  Space available in the log segment has fallen critically low in database &apos;sybsystemprocs&apos;.  All future modifications to this database will be suspended until the log is successfully dumped and space becomes available.
00:00000:02407:2011/11/13 06:20:11.89 server  Error: 2812, Severity: 16, State: 5
00:00000:02407:2011/11/13 06:20:11.89 server  Stored procedure &apos;sp_thresholdaction&apos; not found. Specify owner.objectname or use sp_help to check whether the object exists (sp_help may produce lots of output).
&#x6216;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x5E93;etoh2_cq&#x7684;&#x65E5;&#x5FD7;&#x7A7A;&#x95F4;&#x6EE1;&#x62A5;&#xFF1A;
00:00000:00001:2008/12/02 17:28:07.38 server  Error: 1105, Severity: 17, State: 3
00:00000:00001:2008/12/02 17:28:07.38 server  Can&apos;t allocate space for object &apos;syslogs&apos; in database &apos;etoh2_cq&apos; because &apos;logsegment&apos; segment is full/has no free extents. If you ran out of space in syslogs, dump the transaction log. Otherwise, use ALTER DATABASE or sp_extendsegment to increase size of the segment.
00:00000:00001:2008/12/02 17:28:07.38 server  Error: 3475, Severity: 21, State: 7
00:00000:00001:2008/12/02 17:28:07.38 server  There is no space available in SYSLOGS for process 1 to log a record for which space has been reserved. This process will retry at intervals of one minute. The internal error number is -4.
&#x5904;&#x7406;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#xFF1A;
1&#x3001;&#x9A6C;&#x4E0A;&#x589E;&#x52A0;&#x65E5;&#x5FD7;&#x8BBE;&#x5907;&#xFF0C;&#x5E76;&#x628A;&#x8BBE;&#x5907;&#x5206;&#x914D;&#x7ED9;&#x6570;&#x636E;&#x5E93;&#x3002;
alter database name log on &#x8BBE;&#x5907;&#x540D;=200;--&#x8BBE;&#x5907;&#x540D;&#x6CDB;&#x6307;&#x65E5;&#x5FD7;&#x8BBE;&#x5907;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#x8FD8;&#x6CA1;&#x5728;&#x78C1;&#x76D8;&#x4E0A;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5219;&#x5148;&#x9700;&#x8981;disk init&#x521D;&#x59CB;&#x5316;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#xFF0C;
--&#x5982;&#x679C;&#x662F;&#x7CFB;&#x7EDF;&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5148;&#x4E0D;&#x52A0;&#x8BBE;&#x5907;&#x3002;
Go
2&#x3001;&#x628A;&#x6570;&#x636E;&#x5E93;&#x7F6E;&#x4E8E;-32768&#x72B6;&#x6001;&#xFF0C;&#x518D;&#x628A;&#x65E5;&#x5FD7;&#x6E05;&#x9664;&#x3002;
-- -32768&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x503C;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x4F5C;&#x51FA;&#x8C03;&#x6574;.
--&#x5404;&#x72B6;&#x6001;&#x503C;&#x7684;&#x542B;&#x4E49;&#x8BE6;&#x89C1;&#x6211;&#x7684;blog:Sybase ASE12.5&#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#x503C;&#x7684;&#x542B;&#x4E49;&#x3002;
--<a href="http://blog.csdn.net/xujinyang/article/details/6968650" target="_blank">http://blog.csdn.net/xujinyang/article/details/6968650</a>
sp_configure &quot;allow update&quot;,1
go
update master..sysdatabases set status=-32768 where name=&apos;&#x6570;&#x636E;&#x5E93;&#x540D;&apos;
go
shutdown with nowait  --(&#x6CE8;&#x610F;&#xFF1A;&#x53EF;&#x80FD;&#x4F1A;&#x5EF6;&#x957F;&#x542F;&#x52A8;SYBASE&#x6570;&#x636E;&#x5E93;&#x65F6;&#x95F4;&#xFF0C;&#x82E5;&#x786E;&#x8BA4;&#x6CA1;&#x6709;&#x7528;&#x6237;&#x5728;&#x7528;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;shutdown with wait)
go
--&#x5728;sybase install&#x76EE;&#x5F55;&#x4E0B;
startserver -f RUN_etoh
--&#x542F;&#x52A8;&#x5B8C;&#x6210;
isql -Usa -P -Sservername
1&gt;dump tran database_name with no_log
2&gt;go
3&gt;update master..sysdatabases set status=0 where name=&apos;&#x6570;&#x636E;&#x5E93;&#x540D;&apos;
4&gt;go
5&gt;sp_configure &quot;allow update&quot;,0
6&gt;go
7&gt;shutdown with nowait
8&gt;go
&#x91CD;&#x542F;SYBASE&#x540E;&#xFF0C;&#x65E5;&#x5FD7;&#x6EE1;&#x62A5;&#x9519;&#x6570;&#x636E;&#x5E93;&#x6B63;&#x5E38;&#x4E86;&#x3002;</p>
<p>2.master&#x5E93;&#x65E5;&#x5FD7;&#x6EE1;&#xFF0C;&#x5DF2;&#x7ECF;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x90FD;&#x4E0D;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x60C5;&#x51B5;&#x4E0B;
&#x65E5;&#x5FD7;&#x5982;&#x4E0B;&#xFF1A;
Recovering database &apos;master&apos; 
00:00000:00001:2004/03/12 10:05:27.70 server Redo pass of recovery has processed 10 committed and 0 aborted transactions. 
00:00000:00001:2004/03/12 10:05:27.81 server No such message: 1105 
00:00000:00001:2004/03/12 10:05:27.81 server There is no space available in SYSLOGS for process 1 to log a record for which space has been reserved. This process will retry at intervals of one minute. The internal error number is -4. 
&#x5904;&#x7406;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#xFF1A;
1&#x3001;&#x5728;&#x542F;&#x52A8;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;-T3607 -m,&#x7136;&#x540E;&#x7528;sa&#x8FDB; 
dump tran master with no_log&#x6216; 
alter database master on &#x8BBE;&#x5907;&#x540D;=xxxM &#x5373;&#x53EF; --&#x8BBE;&#x5907;&#x540D;&#x6CDB;&#x6307;master&#x5E93;&#x8BBE;&#x5907;
&#x5982;&#x8FD8;&#x9047;&#x5230;&#x4EE5;&#x4E0B;&#x95EE;&#x9898;&#xFF1A; 
&#x542F;&#x52A8;&#x62A5;&#xFF1A;Error: 3475, Severity: 21, State: 7 
00:00000:00006:2004/03/12 10:38:55.71 server There is no space available in SYSLOGS for process 6 to log a record for which space has been reserved. This process will retry at intervals of one minute. The internal error number is -4. 
&#x7528;sa&#x767B;&#x9646;&#x8FDB;&#x4E0D;&#x53BB;&#xFF1A;&#x62A5;&#xFF1A; 
Can&apos;t allocate space for object &apos;syslogs&apos; in database &apos;master&apos; because 
&apos;logsegment&apos; segment is full/has no free extents. If you ran out of space in 
syslogs, dump the transaction log. Otherwise, use ALTER DATABASE or 
sp_extendsegment to increase size of the segment. 
Msg 3475, Level 21, State 7: 
There is no space available in SYSLOGS for process 6 to log a record for which 
space has been reserved. This process will retry at intervals of one minute. The </p>
<p>internal error number is -4. 
CT-LIBRARY error: 
ct_connect(): user api layer: internal Client Library error: Read from t 
he server has timed out. </p>
<p>2&#x3001; &#x518D;&#x52A0; -T699(Turn off transaction logging for the entire SQL dataserver) 
&#x8FD9;&#x6B21;sa&#x53EF;&#x8FDB; 
&#x6267;&#x884C; 
alter database master on master_dev=xxxM &#x62A5;&#x548C;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#x7684;&#x9519; 
dump tran master with no_log&#x4E5F;&#x4E0D;&#x884C; </p>
<p>3&#x3001; &#x518D;&#x52A0;-T7409 
&#x6267;&#x884C; alter database master on master_dev=xxxM ok 
&#x95EE;&#x9898;&#x89E3;&#x51B3;</p>
<p>--&#x5176;&#x4E2D; <a href="http://manuals.sybase.com/onlinebooks/group-as/asg1250e/svrtsg/" target="_blank">http://manuals.sybase.com/onlinebooks/group-as/asg1250e/svrtsg/</a> &#x662F;&#x9488;&#x5BF9;sybase ASE 12.5&#x5F88;&#x591A;&#x51FA;&#x9519;&#x95EE;&#x9898;&#x7684;&#x5904;&#x7406;&#x6307;&#x5357;
&#x9876;
1
&#x8E29;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Sybase ASE培训.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Sybase ASE培训">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"SYBASE 日常维护","level":"1.23.2","depth":2,"next":{"title":"Test","level":"1.24","depth":1,"ref":"","articles":[{"title":"性能测试","level":"1.24.1","depth":2,"path":"test/性能测试.md","ref":"test/性能测试.md","articles":[]}]},"previous":{"title":"Sybase ASE培训","level":"1.23.1","depth":2,"path":"sybase/Sybase ASE培训.md","ref":"sybase/Sybase ASE培训.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"sybase/SYBASE 日常维护.md","mtime":"2019-03-07T09:20:40.315Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-12-17T03:04:27.118Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

